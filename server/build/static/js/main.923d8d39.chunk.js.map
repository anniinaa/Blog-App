{"version":3,"sources":["components/BlogDetails.js","components/Create.js","useFetch.js","components/BlogList.js","components/Home.js","components/NavBar.js","App.js","index.js"],"names":["serverUrl","getBlog","blogId","a","axios","get","result","data","BlogDetails","useParams","useState","blog","setBlog","history","useHistory","useEffect","newBlog","onDelete","delete","push","className","to","title","author","body","onClick","id","Create","setTitle","setBody","setAuthor","ispending","setIspending","handleSubmit","e","preventDefault","post","console","log","onSubmit","type","required","value","onChange","target","disabled","useFetch","url","setData","abortCont","AbortController","fetch","signal","then","res","json","abort","BlogList","blogs","map","String","Home","Navbar","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.923d8d39.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst localhostUrl = \"http://localhost:4000/\";\r\nconst hostUrl = \"https://blog-app-654.herokuapp.com/\";\r\n\r\nconst serverUrl =\r\n  process.env.NODE_ENV === \"development\" ? localhostUrl : hostUrl;\r\n\r\nconst getBlog = async (blogId) => {\r\n  const result = await axios.get(`${serverUrl}find/${blogId}`);\r\n\r\n  return result.data;\r\n};\r\n\r\nconst BlogDetails = () => {\r\n  const { blogId } = useParams();\r\n  const [blog, setBlog] = useState();\r\n  const history = useHistory();\r\n\r\n  useEffect(async () => {\r\n    const newBlog = await getBlog(blogId);\r\n    setBlog(newBlog);\r\n  }, []);\r\n\r\n  const onDelete = async (blogId) => {\r\n    await axios.delete(`${serverUrl}delete/${blogId}`);\r\n\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"blog-details\">\r\n      <div className=\"backBtn\">\r\n        <Link className=\"backLink\" to=\"/\">\r\n          Back\r\n        </Link>\r\n      </div>\r\n      {blog && (\r\n        <article>\r\n          <h2>{blog.title}</h2>\r\n          <p>Written by {blog.author}</p>\r\n          <div className=\"blog-body\">{blog.body}</div>\r\n          <button onClick={() => onDelete(blog.id)}>delete</button>\r\n        </article>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogDetails;\r\n","import { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nconst Create = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [author, setAuthor] = useState(\"Anonymous\");\r\n  const [ispending, setIspending] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const blog = { title, body, author };\r\n\r\n    setIspending(true);\r\n    const result = await axios.post(`http://localhost:4000/insert`, blog);\r\n    console.log(\"added\", result);\r\n    setIspending(true);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"new-blog\">\r\n      <h2>Add a New Blog</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Title:</label>\r\n        <input\r\n          type=\"text\"\r\n          required\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n\r\n        <label>Blog text:</label>\r\n        <textarea\r\n          required\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        ></textarea>\r\n\r\n        <label>Blog author:</label>\r\n        <input\r\n          className=\"select-author\"\r\n          type=\"text\"\r\n          required\r\n          value={author}\r\n          onChange={(e) => setAuthor(e.target.value)}\r\n        />\r\n        {!ispending && <button className=\"add-blog\">Add blog</button>}\r\n        {ispending && (\r\n          <button disabled className=\"add-blog\">\r\n            Done!\r\n          </button>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nconst useFetch = (url) => {\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const abortCont = new AbortController();\r\n\r\n    fetch(url, { signal: abortCont.signal })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setData(data);\r\n      });\r\n\r\n    return () => abortCont.abort();\r\n  }, [url]);\r\n\r\n  return { data };\r\n};\r\n\r\nexport default useFetch;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst BlogList = ({ blogs }) => {\r\n  return (\r\n    <div className=\"blog-list\">\r\n      {blogs.map((blog) => (\r\n        <div className=\"blog-preview\" key={blog.id}>\r\n          <Link id=\"link\" to={`/blogs/${String(blog.id)}`}>\r\n            <h2>{blog.title}</h2>\r\n            <p>written by {blog.author}</p>\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogList;\r\n","import useFetch from \"../useFetch\";\r\nimport BlogList from \"./BlogList\";\r\n\r\nconst localhostUrl = \"http://localhost:4000/\";\r\nconst hostUrl = \"https://blog-app-654.herokuapp.com/\";\r\n\r\nconst serverUrl =\r\n  process.env.NODE_ENV === \"development\" ? localhostUrl : hostUrl;\r\n\r\nconst Home = () => {\r\n  const { data: blogs } = useFetch(`${serverUrl}find`);\r\n\r\n  return <div className=\"home\">{blogs && <BlogList blogs={blogs} />}</div>;\r\n};\r\n\r\nexport default Home;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () =>{\r\n\r\n    return (\r\n        <nav className=\"navbar\">\r\n            <h1>The Blog Spot</h1>\r\n        <div className=\"links\">\r\n        <Link to=\"/\">Home</Link>\r\n        <Link className=\"newBlog\" to=\"/create\" >New Blog</Link>\r\n        </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport BlogDetails from \"./components/BlogDetails\";\nimport Create from \"./components/Create\";\nimport Home from \"./components/Home\";\nimport Navbar from \"./components/NavBar\";\nimport Styles from \"./styles/styles.css\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar />\n        <div className=\"content\">\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route path=\"/create\">\n              <Create />\n            </Route>\n            <Route path=\"/blogs/:blogId\">\n              <BlogDetails />\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}