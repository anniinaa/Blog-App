(this["webpackJsonpblog-app-react"]=this["webpackJsonpblog-app-react"]||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(28),r=n.n(a),s=n(9),o=n(2),i=n(10),l=n(8),j=n.n(l),b=n(12),u=n(14),d=n.n(u),h=n(1),O="https://blog-app-654.herokuapp.com/",p=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(O,"find/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.g)().blogId,t=Object(c.useState)(),n=Object(i.a)(t,2),a=n[0],r=n[1],l=Object(o.f)();Object(c.useEffect)(Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:n=t.sent,r(n);case 4:case"end":return t.stop()}}),t)}))),[]);var u=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("".concat(O,"delete/").concat(t));case 2:l.push("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"blog-details",children:[Object(h.jsx)("div",{className:"backBtn",children:Object(h.jsx)(s.b,{className:"backLink",to:"/",children:"Back"})}),a&&Object(h.jsxs)("article",{children:[Object(h.jsx)("h2",{children:a.title}),Object(h.jsxs)("p",{children:["Written by ",a.author]}),Object(h.jsx)("div",{className:"blog-body",children:a.body}),Object(h.jsx)("button",{onClick:function(){return u(a.id)},children:"delete"})]})]})},f=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),l=s[0],u=s[1],O=Object(c.useState)("Anonymous"),p=Object(i.a)(O,2),x=p[0],f=p[1],v=Object(c.useState)(!1),g=Object(i.a)(v,2),m=g[0],N=g[1],w=Object(o.f)(),k=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={title:n,body:l,author:x},N(!0),e.next=5,d.a.post("http://localhost:4000/insert",c);case 5:a=e.sent,console.log("added",a),N(!0),w.push("/");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"new-blog",children:[Object(h.jsx)("h2",{children:"Add a New Blog"}),Object(h.jsxs)("form",{onSubmit:k,children:[Object(h.jsx)("label",{children:"Title:"}),Object(h.jsx)("input",{type:"text",required:!0,value:n,onChange:function(e){return a(e.target.value)}}),Object(h.jsx)("label",{children:"Blog text:"}),Object(h.jsx)("textarea",{required:!0,value:l,onChange:function(e){return u(e.target.value)}}),Object(h.jsx)("label",{children:"Blog author:"}),Object(h.jsx)("input",{className:"select-author",type:"text",required:!0,value:x,onChange:function(e){return f(e.target.value)}}),!m&&Object(h.jsx)("button",{className:"add-blog",children:"Add blog"}),m&&Object(h.jsx)("button",{disabled:!0,className:"add-blog",children:"Done!"})]})]})},v=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){return e.json()})).then((function(e){r(e)})),function(){return t.abort()}}),[e]),{data:a}},g=function(e){var t=e.blogs;return Object(h.jsx)("div",{className:"blog-list",children:t.map((function(e){return Object(h.jsx)("div",{className:"blog-preview",children:Object(h.jsxs)(s.b,{id:"link",to:"/blogs/".concat(String(e.id)),children:[Object(h.jsx)("h2",{children:e.title}),Object(h.jsxs)("p",{children:["written by ",e.author]})]})},e.id)}))})},m=function(){var e=v("".concat("https://blog-app-654.herokuapp.com/","find")).data;return Object(h.jsx)("div",{className:"home",children:e&&Object(h.jsx)(g,{blogs:e})})},N=function(){return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("h1",{children:"The Blog Spot"}),Object(h.jsxs)("div",{className:"links",children:[Object(h.jsx)(s.b,{to:"/",children:"Home"}),Object(h.jsx)(s.b,{className:"newBlog",to:"/create",children:"New Blog"})]})]})};n(59);var w=function(){return Object(h.jsx)(s.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(N,{}),Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",children:Object(h.jsx)(m,{})}),Object(h.jsx)(o.a,{path:"/create",children:Object(h.jsx)(f,{})}),Object(h.jsx)(o.a,{path:"/blogs/:blogId",children:Object(h.jsx)(x,{})})]})})]})})};r.a.render(Object(h.jsx)(w,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.923d8d39.chunk.js.map